<li id="<%= task_list_item.id %>">
  <%= editable task_list_item, :completed, source: ["Completed", "Pending"] %>
  <span class="title"><%= link_to task_list_item.title, task_list_item %></span>
  <% if task_list_item.due_date %>
    <span class="timestamp">
      Due <%= time_ago_in_words(task_list_item.due_date) %> <%= (task_list_item.due_date >= Time.now) ? "from now" : "ago" %>
    </span>
  <% else %>
    <span class="muted">(no due date)</span>
  <% end %>
  <% if current_user?(task_list_item.user) %>
      <%= link_to "[edit]", [:edit, task_list_item] %>
      <%= link_to "[delete]", task_list_item, method: :delete,
                                     data: { confirm: "You sure?" },
                                     title: task_list_item.title %>
  <% end %>
  <%= render "shared/task_list", task_list: task_list_item.children %>
</li>
